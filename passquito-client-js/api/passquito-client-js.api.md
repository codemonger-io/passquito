## API Report File for "@codemonger-io/passquito-client-js"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @beta
export interface ApiResponse<T> {
    readonly ok: boolean;
    parse(): Promise<T>;
    readonly status: number;
    text(): Promise<string>;
}

// @beta
export interface AuthenticationSession {
    credentialRequestOptions: CredentialRequestOptions;
    sessionId: string;
}

// @beta
export function checkPasskeyAuthenticationSupported(): Promise<boolean>;

// @beta
export function checkPasskeyRegistrationSupported(): Promise<boolean>;

// @beta
export interface CognitoTokens {
    accessToken: string;
    activatedAt: number;
    expiresIn: number;
    idToken: string;
    refreshToken: string;
}

// @beta
export interface Credentials {
    // (undocumented)
    publicKeyInfo: PublicKeyInfo;
    // (undocumented)
    tokens: CognitoTokens;
}

// @beta
export interface CredentialsApi {
    finishAuthentication(sessionId: string, userId: string, credential: PublicKeyCredential): Promise<ApiResponse<CognitoTokens>>;
    finishRegistration(sessionId: string, credential: PublicKeyCredential): Promise<ApiResponse<RegisteredUserInfo>>;
    getDiscoverableCredentialRequestOptions(): Promise<ApiResponse<CredentialRequestOptions>>;
    refreshTokens(refreshToken: string): Promise<ApiResponse<CognitoTokens | undefined>>;
    startAuthentication(userId: string): Promise<ApiResponse<AuthenticationSession>>;
    startRegistration(userInfo: UserInfo): Promise<ApiResponse<RegistrationSession>>;
    startRegistrationForVerifiedUser(userInfo: VerifiedUserInfo): Promise<ApiResponse<RegistrationSession>>;
}

// @beta
export class CredentialsApiImpl implements CredentialsApi {
    constructor(baseUrl: string);
    readonly baseUrl: string;
    // (undocumented)
    finishAuthentication(sessionId: string, userId: string, credential: PublicKeyCredential): Promise<ApiResponse<CognitoTokens>>;
    // (undocumented)
    finishRegistration(sessionId: string, credential: PublicKeyCredential): Promise<ApiResponse<RegisteredUserInfo>>;
    // (undocumented)
    getDiscoverableCredentialRequestOptions(): Promise<ApiResponse<CredentialRequestOptions>>;
    // (undocumented)
    refreshTokens(refreshToken: string): Promise<ApiResponse<CognitoTokens | undefined>>;
    // (undocumented)
    startAuthentication(userId: string): Promise<ApiResponse<{
        sessionId: any;
        credentialRequestOptions: CredentialRequestOptions;
    }>>;
    // (undocumented)
    startRegistration(userInfo: UserInfo): Promise<ApiResponse<{
        sessionId: any;
        credentialCreationOptions: CredentialCreationOptions;
    }>>;
    // (undocumented)
    startRegistrationForVerifiedUser(userInfo: VerifiedUserInfo): Promise<ApiResponse<{
        sessionId: any;
        credentialCreationOptions: CredentialCreationOptions;
    }>>;
}

// @beta
export function isCognitoTokens(value: unknown): value is CognitoTokens;

// @beta
export function isPublicKeyInfo(value: unknown): value is PublicKeyInfo;

// @beta
export class PassquitoClient {
    constructor(credentialsApi: CredentialsApi);
    doAuthenticationCeremony(): {
        abort: () => void;
        credentials: Promise<Credentials>;
    };
    doAuthenticationCeremonyForUser(userId: string): {
        abort: () => void;
        credentials: Promise<Credentials>;
    };
    doRegistrationCeremony(userInfo: UserInfo): Promise<PublicKeyInfo>;
    doRegistrationCeremonyForVerifiedUser(userInfo: VerifiedUserInfo): Promise<PublicKeyInfo>;
}

// @beta
export class PassquitoClientError extends Error {
    constructor(message: string, cause?: PassquitoClientErrorCause);
    readonly cause?: PassquitoClientErrorCause;
}

// @beta
export type PassquitoClientErrorCause = PassquitoClientErrorCauseCredentialsApi | PassquitoClientErrorCauseGeneric;

// @beta
export interface PassquitoClientErrorCauseCredentialsApi {
    // (undocumented)
    response: ApiResponse<unknown>;
    // (undocumented)
    type: 'credentials-api';
}

// @beta
export interface PassquitoClientErrorCauseGeneric {
    // (undocumented)
    error: unknown;
    // (undocumented)
    type: 'generic';
}

// @beta
export interface PublicKeyInfo {
    authenticatorAttachment?: string | null;
    id: string;
    userHandle?: string | null;
}

// @beta
export interface RegisteredUserInfo {
    userId: string;
}

// @beta
export interface RegistrationSession {
    credentialCreationOptions: CredentialCreationOptions;
    sessionId: string;
}

// @beta
export interface UserInfo {
    displayName: string;
    username: string;
}

// @beta
export interface VerifiedUserInfo {
    idToken: string;
    userInfo: UserInfo;
}

```
